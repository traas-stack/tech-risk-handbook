领域篇侧重于技术风险领域，系统结合算法技术的创新，按照可观测性、应急定位、变更和容量划分
通用篇侧重于技术风险领域，所需算法技术本身的创新，暂且划分为时序预测、异常检测和组合优化
部分学术研究成果还处于实验、或者论文编写/投递阶段，暂未列举，后续会持续更新
### 领域篇
#### 可观测性
[**ACM FSE 2022**]**_ _Investigating and Improving Log Parsing in Practice**, _Ying Fu, Meng Yan, Jian Xu, Jianguo Li, Zhongxin Liu, Xiaohong Zhang, Dan Yang _
近年来，云原生系统可观测性(Observability)成为了业界云自动化运维的热点，其又分为黑盒和白盒两大类技术方向：白盒技术要求对系统源码有一定了解和控制，包括插入各种agent的探针Telemetry技术；黑盒技术主要依赖系统输出的log、trace和metric，这些统一都看作为广义日志。因此，日志分析技术已经成为了可观测性的关键技术。日志不像数据库表，缺乏统一的输出标准，通常是半结构化的信息。日志解析就是将半结构化的日志消息转化为结构化的日志事件，是自动化日志分析的关键步骤。被解析后的日志事件可以输入到不同的下游日志挖掘任务进行进一步分析，如日志异常检测、根因定位等。蚂蚁集团作为一家大型金融科技公司，拥有着海量的日志信息，当前迫切需要一款可用的日志解析器来支持日志分析挖掘工作，而蚂蚁日志的复杂性和多样性又对日志解析器的性能提出了更高的要求。
针对上述情况，蚂蚁集团在Drain解析器的基础上开发了一套升级版的日志解析算法Drain+。Drain+新增了“分隔符提取”模块和“候选日志合并”模块，能够解决蚂蚁日志多分隔符、多层嵌套的问题。当前日志技术主要应用在蚂蚁内部的变更管控场景。为了防范变更可能导致的故障风险，蚂蚁内部OpsCloud团队形成了一系列变更防御规则。结合本文提出的Drain+算法，我们开发了一套针对CommonError日志的模版新增/突增异常检测防线。
此处简要介绍下CommonError模版新增/突增防线的整体流程。当进行批次变更时，会收集“变更组”变更前后产生的CommonError日志，同时也会收集“对照组”在相同时间段内产生的日志。用Drain+对采集到日志进行模版解析，可以很容易定义2条规则：
a.若变更后出现的新增日志模版既不存在于变更前日志，也不存在于对照组日志，那么认为该日志模版是由于此次变更导致，需要进行新增拦截；
b.若某个模版的量相对于历史有明显的上涨，则认为变更导致了该模版日志的突增，也需要进行拦截。
当前CommError模版新增/突增防线已全覆盖P1P2应用，整体拦截率维持在0.1%左右，拦截准确率已超过50%，已成为统一变更管控流程中的一道重要防线。

#### 容量
[**ACM SoCC 2022**] **DeepScaling: Microservices AutoScaling for Stable CPU Utilization in Large Scale Cloud Systems**_,_**_ _**_Ziliang Wang, Shiyi Zhu, Jianguo Li, Wei Jiang, K. K. Ramakrishnan, Yangfei Zheng, Meng Yan, Xiaohong Zhang, Alex X. Liu_
云服务提供商为了保证自身服务的SLO，在进行资源配置时通常会采取“保守”策略：即配置相对较低的目标CPU利用率，即使这将导致潜在的资源浪费。
但研究表明，服务器集群长期处于较低的CPU利用率，除了物理资源的浪费，能源消耗（电力）同样会大幅增长。针对这个问题，直觉上可以将低负载服务的物理资源腾挪给高负载服务，来提高低负载服务的资源利用率，减少资源浪费和能源消耗，另一方面，更能够有效提升高负载服务的业务体验（例如降低RT、减少error）。
为此，全球的云服务提供商都在试图寻找一种自动化容量评估系统来使系统的CPU利用率能够被稳定在所需的目标水平，并能够保障他们的服务（SLOs）得到满足。
这项工作在耗时敏感的金融支付服务中，挑战更为严峻：首先需要确保以及时、反应迅速的服务来保证用户的体验质量（稳定性），其次应当确保适当的资源供应，而不会出现明显的过度供应（有效性），并能够适应连续、显著的负载变化（灵活性）
为此，我们结合蚂蚁自身的基础设施架构、线上业务诉求，设计开发了这一套DeepScaling-自动化容量评估系统，首先通过时空图网络（STGNN）预测每个微服务的工作负载，接着通过深度概率网络完成CPU利用率的估计，最后采用强化学习（RL）模型生成自动缩放策略，在减少线上服务器集群资源消耗低同时，保障线上业务SLO不被打破。
这套系统于2020年底开展规划，于2021年上半年完成开发，2021年中投入使用，模型覆盖1600+ 应用，主要针对135个日周期性应用进行了线上部署，线上稳定运行10个月，实现了5分钟粒度的精细化容量调节，平均每天可产生3w core CPU、6w GB内存资源节省，2022年初开始逐渐转为天级别日常容量托管。
基于该工作沉淀出的学术论文已发表于：云计算领域唯一顶会SOCC'2022：DeepScaling: Microservices AutoScaling for Stable CPU Utilization in Large Scale Cloud Systems

### 通用篇
#### 时序预测
[**ICLR 2022 Oral**] **Pyraformer: Low-Complexity Pyramidal Attention for Long-Range Time Series Modeling and Forecasting**,** **_Shizhan Liu, Hang Yu, Cong Liao, Jianguo Li, Weiyao Lin, Alex X. Liu, Schahram Dustdar_

时间序列预测在现代生活中发挥着许多作用，如量化交易、风险控制、事前决策、资源优化等。基于历史的股票数据预测未来趋势并制定策略，能够减少投资者情绪波动的影响，避免非理性的决策；基于历史的异常事件数据预测未来，能够提前识别风险，提升系统的稳定性；基于历史的销售数据预测未来需求，能够提前决定进货量，节约沉没成本。

蚂蚁集团于4月21日加入了低碳专利承诺并开放了7件“绿色计算”相关的专利。时序预测也是“绿色计算”中重要的一环。“绿色计算”的关键在于不影响用户体验的情况下尽量节省资源减少能耗。为了达到这一目的，精准的预测用户的行为（比如流量），可以为后续的资源配置提供可靠的参考。具体的来说，云原生系统在容器中部署微服务应用或者数据库租户实例等。为了支持大量的用户请求，通常一个微服务/数据库租户要部署多个的容器实例。云原生容量管理的核心问题就是根据需求确定需要部署容器实例的数目。在用户请求超量的时候，要多部署一些实例以应对可能的风险；在用户请求相对较少的时候，可以缩减一些部署实例以节省容量成本。因此，蚂蚁智能容量管家平台利用机器学习技术在流量发生变化之前自动扩展计算容量，从而提高资源利用率，节省资源开销。

为此，我们提出了一种基于金字塔注意力机制的预测模型Pyraformer。通过提取时间序列中的多尺度特征来进行预测。我们首先引入了金字塔注意模块(PAM)，该模块采用树结构来执行自注意力，通过尺度间连边提取不同分辨率的特征，通过尺度内连边建模不同尺度的依赖关系。在适当条件下，Pyraformer中的最大信息传播路径相对于序列长度![](https://intranetproxy.alipay.com/skylark/lark/__latex/d20caec3b48a1eef164cb4ca81ba2587.svg#card=math&code=L&id=DwMAs)是一个常数(即![](https://intranetproxy.alipay.com/skylark/lark/__latex/120a527ec2fb6583ec5c438f64ad5c18.svg#card=math&code=%5Cmathcal%20O%281%29&id=BfUJS))，而时空复杂度与![](https://intranetproxy.alipay.com/skylark/lark/__latex/d20caec3b48a1eef164cb4ca81ba2587.svg#card=math&code=L&id=blaPO)呈线性关系。大量实验表明，Pyraformer在单步和长程预测任务中都能以最少的时间和内存占用达到最高的预测精度，尤其是在序列较长的情况下。该论文被ICLR 2022接收为口头报告(Oral)。

[**IJCAI 2022**] **Regularized Graph Structure Learning with Semantic Knowledge for Multi-variates Time-Series Forecasting**, _Hongyuan Yu, Ting Li, Weicheng Yu, Jianguo Li, Yan Huang, Liang Wang, Alex X. Liu _

在云服务流量预测场景中，同一个应用的不同 zone 之间有着相似的时序流量模式，不同的应用之间也存在着隐含的时序关联，然而这种关联无法显示捕捉到，仅仅考虑单个时序的流量，可能忽略了上下游应用之间的关系。若只考虑相同 app 的不同 zone 之间关系，忽略了不同app之间的关联。目前的基于时空图时序预测方法，主要是两个方向：（1）考虑固定的图结构进行关联建模，不考虑隐含的结构（2）重新学习隐含的图结构，抛弃先验的知识进行预测。另外，目前的图结构学习通常得到的是稠密的图，然后通过规则进行稀疏化并非是端到端的方式。此外，在智慧城市领域，车流量预测、人流量预测等，也是需要同时考虑已有的时序关系，以及学习隐含的时序关系，进行辅助时序预测。

文章的目的是自动学习图结构，达到学习出的图结构的预测结果，能优于缺失先验的图结构的目的。另外，自动学习的过程中考虑先验图结构，相比不考虑先验完全的进行自动学习，预测效果更优。从图1中我们可以看出，先验的知识通常是非常准确的，同一个 app 的 ldc 相关性非常大。自动优化出离散的图结构，而不是仅仅学习连续的 node embedding，再根据经验调节相似阈值。

本方案主要包含三个主要组成成分：（1）端到端图结构离散化处理，传统的图学习只是学习连续的相似度图，因为离散图优化是非凸优化问题，但是相似度图是稠密的可扩展程度低，进行离散化能去除掉噪音成分，使得学习到的图更加有可解释性。（2）对拉普拉斯矩阵进行重构，区别于传统的拉普拉斯矩阵只包含固定结构的图，本文提出的方案融合了根据先验知识预定义的图，以及学习到的结点表征生成的图。（3）利用重构的拉普拉斯矩阵进行时空预测，同时考虑时间的相关性和空间的依赖。
